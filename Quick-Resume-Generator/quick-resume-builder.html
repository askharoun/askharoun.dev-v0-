
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Resume Builder</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="Quick-Resume-Generator/styles.css" rel="stylesheet">
    <link rel="icon" href="https://github.com/askharoun/askharoun.dev-v0-/raw/555eb0d75a614c746a5339fc8e3a8e69eedd3bb7/images/favicon.png" type="image/x-icon">
    <script>src="Quick-Resume-Generator/script.js"</script>
    <style>
/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 50%, #0f172a 100%);
    color: #f8fafc;
    min-height: 100vh;
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 1rem;
}

/* Header Styles */
.header {
    text-align: center;
    padding: 3rem 0;
    position: relative;
}

.header::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    opacity: 0.5;
}

.title {
    font-size: 3.5rem;
    font-weight: 700;
    background: linear-gradient(135deg, #60a5fa, #22d3ee);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 1rem;
}

.subtitle {
    font-size: 1.25rem;
    color: #cbd5e1;
    margin-bottom: 0.5rem;
}

.description {
    font-size: 0.875rem;
    color: #94a3b8;
}

/* Layout */
.layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
}

@media (max-width: 1024px) {
    .layout {
        grid-template-columns: 1fr;
    }
}

/* Form Section */
.form-section {
    background: rgba(30, 41, 59, 0.5);
    padding: 2rem;
    border-radius: 1rem;
    border: 1px solid rgba(71, 85, 105, 0.5);
    backdrop-filter: blur(10px);
}

/* Theme Selector */
.theme-selector, .layout-options, .section-manager {
    margin-bottom: 2rem;
}

.theme-selector h3, .layout-options h3, .section-manager h3 {
    color: #f8fafc;
    margin-bottom: 1rem;
    font-size: 1.125rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.theme-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 1rem;
}

.theme-option {
    background: rgba(51, 65, 85, 0.5);
    border: 2px solid rgba(71, 85, 105, 0.5);
    border-radius: 0.75rem;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #cbd5e1;
    font-size: 0.875rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.theme-option:hover {
    border-color: #3b82f6;
    transform: translateY(-2px);
}

.theme-option.active {
    border-color: #3b82f6;
    background: rgba(59, 130, 246, 0.1);
}

.theme-preview {
    width: 50px;
    height: 60px;
    border-radius: 0.5rem;
    position: relative;
    overflow: hidden;
}

.preview-layout {
    position: absolute;
    inset: 0;
    opacity: 0.3;
}

.modern-layout {
    background: linear-gradient(45deg, transparent 40%, rgba(255,255,255,0.1) 50%, transparent 60%);
}

.classic-layout {
    background: linear-gradient(0deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
}

.creative-layout {
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.1) 20%, transparent 50%);
}

.minimal-layout {
    background: linear-gradient(135deg, transparent 45%, rgba(255,255,255,0.1) 55%);
}

.tech-layout {
    background: linear-gradient(90deg, rgba(255,255,255,0.1) 20%, transparent 40%, rgba(255,255,255,0.1) 80%);
}

/* Theme previews */
.modern-preview { background: linear-gradient(135deg, #1e293b, #3b82f6); }
.classic-preview { background: linear-gradient(135deg, #374151, #10b981); }
.creative-preview { background: linear-gradient(135deg, #7c3aed, #ec4899); }
.minimal-preview { background: linear-gradient(135deg, #475569, #06b6d4); }
.tech-preview { background: linear-gradient(135deg, #dc2626, #f59e0b); }

/* Section Manager */
.section-toggles {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 0.75rem;
}

.section-toggle {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    color: #cbd5e1;
    font-size: 0.875rem;
    padding: 0.5rem;
    background: rgba(51, 65, 85, 0.3);
    border-radius: 0.5rem;
    transition: all 0.3s ease;
}

.section-toggle:hover {
    background: rgba(51, 65, 85, 0.5);
}

.section-toggle input[type="checkbox"] {
    width: 1rem;
    height: 1rem;
    accent-color: #3b82f6;
}

/* Layout Options */
.layout-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.control-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.control-group label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    color: #cbd5e1;
    font-size: 0.875rem;
}

.control-group input[type="checkbox"] {
    width: 1rem;
    height: 1rem;
    accent-color: #3b82f6;
}

/* ... keep existing code (photo upload, form styles, preview section) the same ... */

/* Photo Upload */
.photo-section {
    border: 2px dashed rgba(71, 85, 105, 0.5);
    border-radius: 0.75rem;
    padding: 1.5rem;
}

.photo-upload {
    text-align: center;
}

.upload-label {
    display: inline-block;
    padding: 1rem 2rem;
    background: #3b82f6;
    color: white;
    border-radius: 0.5rem;
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-bottom: 1rem;
}

.upload-label:hover {
    background: #2563eb;
}

.upload-label i {
    margin-right: 0.5rem;
}

.photo-preview {
    margin-top: 1rem;
}

.photo-preview img {
    max-width: 150px;
    max-height: 150px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #3b82f6;
}

#profilePhoto {
    display: none;
}

/* Form Styles */
.form-group {
    margin-bottom: 2rem;
}

.form-group h3 {
    color: #f8fafc;
    margin-bottom: 1rem;
    font-size: 1.125rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-bottom: 1rem;
}

input, textarea, select {
    background: rgba(51, 65, 85, 0.5);
    border: 1px solid rgba(71, 85, 105, 0.6);
    border-radius: 0.5rem;
    padding: 0.75rem;
    color: #f8fafc;
    font-size: 0.875rem;
    transition: all 0.3s ease;
    width: 100%;
}

input:focus, textarea:focus, select:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

input::placeholder, textarea::placeholder {
    color: #94a3b8;
}

.add-btn {
    background: #3b82f6;
    color: white;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    cursor: pointer;
    font-size: 0.875rem;
    transition: background-color 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.add-btn:hover {
    background: #2563eb;
}

/* Preview Section */
.preview-section {
    background: rgba(30, 41, 59, 0.5);
    border-radius: 1rem;
    border: 1px solid rgba(71, 85, 105, 0.5);
    backdrop-filter: blur(10px);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.preview-header {
    padding: 1rem;
    border-bottom: 1px solid rgba(71, 85, 105, 0.5);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.preview-header h3 {
    color: #f8fafc;
    font-size: 1.125rem;
    font-weight: 600;
}

.preview-controls {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.zoom-btn {
    background: rgba(59, 130, 246, 0.2);
    border: 1px solid #3b82f6;
    color: #3b82f6;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.zoom-btn:hover {
    background: rgba(59, 130, 246, 0.3);
}

#zoomLevel {
    color: #cbd5e1;
    font-size: 0.875rem;
    min-width: 40px;
    text-align: center;
}

.preview-container {
    flex: 1;
    overflow: auto;
    padding: 1rem;
    background: #f8fafc;
}

/* Resume Preview Styles */
.resume-preview {
    background: white;
    color: #374151;
    margin: 0 auto;
    border-radius: 0.5rem;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    font-family: 'Inter', sans-serif;
    line-height: 1.5;
    transform-origin: top left;
    transition: transform 0.3s ease;
    width: 8.5in;
    min-height: 11in;
    padding: 0.75in;
}

/* Layout Variations */
.modern-layout {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
}

.modern-layout.two-column {
    grid-template-columns: 1fr 2fr;
    gap: 2rem;
}

.classic-layout .resume-header {
    text-align: center;
    border-bottom: 3px solid;
    padding-bottom: 1rem;
    margin-bottom: 2rem;
}

.creative-layout {
    position: relative;
}

.creative-layout::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(to bottom, var(--primary-color), var(--accent-color));
}

.creative-layout .resume-content {
    margin-left: 2rem;
}

.minimal-layout {
    font-weight: 300;
}

.minimal-layout .resume-section h2 {
    font-weight: 400;
    letter-spacing: 2px;
    text-transform: uppercase;
    font-size: 0.875rem;
}

.tech-layout .resume-header {
    background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
    color: white;
    padding: 2rem;
    margin: -0.75in -0.75in 2rem -0.75in;
    border-radius: 0.5rem 0.5rem 0 0;
}

/* Compact Mode */
.compact-mode {
    padding: 0.5in;
    line-height: 1.3;
}

.compact-mode .resume-section {
    margin-bottom: 1rem;
}

.compact-mode .section-item {
    margin-bottom: 1rem;
}

/* Hide Icons Mode */
.hide-icons .fas, .hide-icons .fab {
    display: none;
}

/* Resume Header */
.resume-header {
    margin-bottom: 2rem;
}

.resume-header.with-photo {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 2rem;
    align-items: center;
}

.profile-photo {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid var(--primary-color);
}

.header-content h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: var(--primary-color);
}

.contact-info {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 0.5rem;
}

.contact-info span {
    font-size: 0.875rem;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.links {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
}

.links a {
    font-size: 0.875rem;
    color: var(--primary-color);
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.links a:hover {
    text-decoration: underline;
}

/* Resume Sections */
.resume-section {
    margin-bottom: 2rem;
}

.resume-section h2 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid var(--accent-color);
    color: var(--primary-color);
}

.section-item {
    margin-bottom: 1.5rem;
}

.item-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 0.5rem;
}

.item-header h3 {
    font-size: 1.125rem;
    font-weight: 600;
    color: #1f2937;
}

.date {
    font-size: 0.875rem;
    color: #6b7280;
    font-weight: 500;
}

.company {
    font-style: italic;
    color: #4b5563;
    margin-bottom: 0.5rem;
}

.description {
    color: #374151;
    font-size: 0.875rem;
    line-height: 1.6;
}

.description ul {
    margin: 0.5rem 0;
    padding-left: 1.5rem;
}

.description li {
    margin-bottom: 0.25rem;
}

/* Skills with Progress Bars */
.skills-with-bars .skill-item {
    margin-bottom: 1rem;
}

.skill-name {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.25rem;
    font-size: 0.875rem;
}

.skill-bar {
    height: 6px;
    background: #e5e7eb;
    border-radius: 3px;
    overflow: hidden;
}

.skill-progress {
    height: 100%;
    background: var(--primary-color);
    border-radius: 3px;
    transition: width 0.3s ease;
}

/* Theme-specific CSS variables */
.modern-theme {
    --primary-color: #3b82f6;
    --secondary-color: #1e40af;
    --accent-color: #06b6d4;
}

.classic-theme {
    --primary-color: #374151;
    --secondary-color: #1f2937;
    --accent-color: #10b981;
}

.creative-theme {
    --primary-color: #7c3aed;
    --secondary-color: #5b21b6;
    --accent-color: #ec4899;
}

.minimal-theme {
    --primary-color: #475569;
    --secondary-color: #334155;
    --accent-color: #06b6d4;
}

.tech-theme {
    --primary-color: #dc2626;
    --secondary-color: #b91c1c;
    --accent-color: #f59e0b;
}

/* Export Section */
.export-section {
    border-top: 1px solid rgba(71, 85, 105, 0.5);
    padding-top: 2rem;
}

.export-section h3 {
    color: #f8fafc;
    margin-bottom: 1rem;
    font-size: 1.125rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.export-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
}

.export-btn {
    padding: 0.75rem 1rem;
    border: none;
    border-radius: 0.5rem;
    cursor: pointer;
    font-size: 0.875rem;
    font-weight: 500;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.export-btn.pdf { background: #dc2626; color: white; }
.export-btn.latex { background: #059669; color: white; }
.export-btn.html { background: #7c3aed; color: white; }

.export-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* Dynamic form items */
.form-item {
    background: rgba(71, 85, 105, 0.3);
    padding: 1rem;
    border-radius: 0.5rem;
    margin-bottom: 1rem;
    border: 1px solid rgba(71, 85, 105, 0.5);
}

.form-item h4 {
    color: #f8fafc;
    margin-bottom: 0.75rem;
    font-size: 1rem;
    font-weight: 500;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.remove-btn {
    background: #dc2626;
    color: white;
    border: none;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    cursor: pointer;
    font-size: 0.75rem;
}

.remove-btn:hover {
    background: #b91c1c;
}

/* Responsive Design */
@media (max-width: 768px) {
    .title { font-size: 2.5rem; }
    .form-row { grid-template-columns: 1fr; }
    .contact-info, .links { flex-direction: column; gap: 0.5rem; }
    .item-header { flex-direction: column; align-items: flex-start; }
    .export-buttons { grid-template-columns: 1fr; }
    .theme-grid { grid-template-columns: repeat(2, 1fr); }
    .layout-controls { grid-template-columns: 1fr; }
    .section-toggles { grid-template-columns: 1fr; }
    
    .resume-header.with-photo {
        grid-template-columns: 1fr;
        text-align: center;
        gap: 1rem;
    }
    
    .modern-layout.two-column {
        grid-template-columns: 1fr;
    }
}

@media print {
    .resume-preview {
        box-shadow: none;
        margin: 0;
        transform: none !important;
    }
}
    </style>
    <script>
        
// Global variables
let currentTheme = 'modern';
let currentLayout = 'modern';
let educationCount = 0;
let experienceCount = 0;
let projectCount = 0;
let customLinksCount = 0;
let certificationCount = 0;
let languageCount = 0;
let volunteerCount = 0;
let awardCount = 0;
let currentZoom = 1;
let profilePhotoData = null;

// Section visibility state
let sectionVisibility = {
    photo: true,
    summary: true,
    education: true,
    experience: true,
    projects: true,
    skills: true,
    certifications: false,
    languages: false,
    volunteer: false,
    awards: false,
    links: true
};

// Layout settings
let layoutSettings = {
    twoColumn: false,
    skillsBars: false,
    compactMode: false,
    showIcons: true
};

// Initialize the application
document.addEventListener('DOMContentLoaded', function() {
    initializeEventListeners();
    updatePreview();
    addEducation();
    addExperience();
    addProject();
});

// Event listeners
function initializeEventListeners() {
    // Theme selection
    document.querySelectorAll('.theme-option').forEach(button => {
        button.addEventListener('click', function() {
            selectTheme(this.dataset.theme, this.dataset.layout);
        });
    });

    // Form inputs
    const form = document.getElementById('resumeForm');
    form.addEventListener('input', updatePreview);
    form.addEventListener('change', updatePreview);
}

// Theme and layout selection
function selectTheme(theme, layout) {
    currentTheme = theme;
    currentLayout = layout;
    
    // Update active theme button
    document.querySelectorAll('.theme-option').forEach(btn => {
        btn.classList.remove('active');
    });
    document.querySelector(`[data-theme="${theme}"]`).classList.add('active');
    
    updatePreview();
}

// Section management
function toggleSection(sectionName) {
    sectionVisibility[sectionName] = !sectionVisibility[sectionName];
    const section = document.getElementById(`${sectionName}Section`);
    if (section) {
        section.style.display = sectionVisibility[sectionName] ? 'block' : 'none';
    }
    updatePreview();
}

// Layout toggles
function toggleTwoColumn() {
    layoutSettings.twoColumn = document.getElementById('twoColumn').checked;
    updatePreview();
}

function toggleSkillsBars() {
    layoutSettings.skillsBars = document.getElementById('skillsBars').checked;
    updatePreview();
}

function toggleCompactMode() {
    layoutSettings.compactMode = document.getElementById('compactMode').checked;
    updatePreview();
}

function toggleIcons() {
    layoutSettings.showIcons = document.getElementById('showIcons').checked;
    updatePreview();
}

// Photo upload
function handlePhotoUpload(event) {
    const file = event.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
            profilePhotoData = e.target.result;
            const preview = document.getElementById('photoPreview');
            preview.innerHTML = `<img src="${profilePhotoData}" alt="Profile Photo">`;
            updatePreview();
        };
        reader.readAsDataURL(file);
    }
}

// Zoom functionality
function adjustZoom(delta) {
    currentZoom = Math.max(0.5, Math.min(2, currentZoom + delta));
    const preview = document.getElementById('resumePreview');
    preview.style.transform = `scale(${currentZoom})`;
    document.getElementById('zoomLevel').textContent = Math.round(currentZoom * 100) + '%';
}

// Add Education Entry
function addEducation() {
    educationCount++;
    const educationList = document.getElementById('educationList');
    
    const educationItem = document.createElement('div');
    educationItem.className = 'form-item';
    educationItem.innerHTML = `
        <h4>Education Entry ${educationCount} 
            <button type="button" class="remove-btn" onclick="removeEducation(${educationCount})">Remove</button>
        </h4>
        <div class="form-row">
            <input type="text" id="institution_${educationCount}" placeholder="Institution" onchange="updatePreview()">
            <input type="text" id="degree_${educationCount}" placeholder="Degree" onchange="updatePreview()">
        </div>
        <div class="form-row">
            <input type="text" id="field_${educationCount}" placeholder="Field of Study" onchange="updatePreview()">
            <input type="text" id="gradDate_${educationCount}" placeholder="Graduation Date" onchange="updatePreview()">
        </div>
        <input type="text" id="gpa_${educationCount}" placeholder="GPA (optional)" onchange="updatePreview()">
        <textarea id="honors_${educationCount}" placeholder="Honors, relevant coursework, or achievements (optional)" rows="2" onchange="updatePreview()"></textarea>
    `;
    
    educationList.appendChild(educationItem);
    updatePreview();
}

function removeEducation(id) {
    const items = document.querySelectorAll('#educationList .form-item');
    if (items.length > 1) {
        items[id - 1].remove();
        updatePreview();
    }
}

// Add Experience Entry
function addExperience() {
    experienceCount++;
    const experienceList = document.getElementById('experienceList');
    
    const experienceItem = document.createElement('div');
    experienceItem.className = 'form-item';
    experienceItem.innerHTML = `
        <h4>Experience Entry ${experienceCount}
            <button type="button" class="remove-btn" onclick="removeExperience(${experienceCount})">Remove</button>
        </h4>
        <div class="form-row">
            <input type="text" id="company_${experienceCount}" placeholder="Company" onchange="updatePreview()">
            <input type="text" id="position_${experienceCount}" placeholder="Position" onchange="updatePreview()">
        </div>
        <div class="form-row">
            <input type="text" id="expLocation_${experienceCount}" placeholder="Location" onchange="updatePreview()">
            <input type="text" id="expDates_${experienceCount}" placeholder="Dates (e.g., June 2023 - Present)" onchange="updatePreview()">
        </div>
        <textarea id="expDescription_${experienceCount}" placeholder="• Job description and achievements...&#10;• Use bullet points for better readability&#10;• Include quantifiable results when possible" rows="4" onchange="updatePreview()"></textarea>
    `;
    
    experienceList.appendChild(experienceItem);
    updatePreview();
}

function removeExperience(id) {
    const items = document.querySelectorAll('#experienceList .form-item');
    if (items.length > 1) {
        items[id - 1].remove();
        updatePreview();
    }
}

// Add Project Entry
function addProject() {
    projectCount++;
    const projectsList = document.getElementById('projectsList');
    
    const projectItem = document.createElement('div');
    projectItem.className = 'form-item';
    projectItem.innerHTML = `
        <h4>Project Entry ${projectCount}
            <button type="button" class="remove-btn" onclick="removeProject(${projectCount})">Remove</button>
        </h4>
        <div class="form-row">
            <input type="text" id="projectName_${projectCount}" placeholder="Project Name" onchange="updatePreview()">
            <input type="text" id="projectDuration_${projectCount}" placeholder="Duration" onchange="updatePreview()">
        </div>
        <div class="form-row">
            <input type="url" id="projectGithub_${projectCount}" placeholder="GitHub Repository URL (optional)" onchange="updatePreview()">
            <input type="url" id="projectDemo_${projectCount}" placeholder="Live Demo/Video URL (optional)" onchange="updatePreview()">
        </div>
        <input type="text" id="projectTech_${projectCount}" placeholder="Technologies Used (comma-separated)" onchange="updatePreview()">
        <textarea id="projectDescription_${projectCount}" placeholder="Project description and key achievements..." rows="3" onchange="updatePreview()"></textarea>
    `;
    
    projectsList.appendChild(projectItem);
    updatePreview();
}

function removeProject(id) {
    const items = document.querySelectorAll('#projectsList .form-item');
    if (items.length > 1) {
        items[id - 1].remove();
        updatePreview();
    }
}

// Add Certification Entry
function addCertification() {
    certificationCount++;
    const certificationsList = document.getElementById('certificationsList');
    
    const certificationItem = document.createElement('div');
    certificationItem.className = 'form-item';
    certificationItem.innerHTML = `
        <h4>Certification ${certificationCount}
            <button type="button" class="remove-btn" onclick="removeCertification(${certificationCount})">Remove</button>
        </h4>
        <div class="form-row">
            <input type="text" id="certName_${certificationCount}" placeholder="Certification Name" onchange="updatePreview()">
            <input type="text" id="certIssuer_${certificationCount}" placeholder="Issuing Organization" onchange="updatePreview()">
        </div>
        <div class="form-row">
            <input type="text" id="certDate_${certificationCount}" placeholder="Date Obtained" onchange="updatePreview()">
            <input type="url" id="certUrl_${certificationCount}" placeholder="Verification URL (optional)" onchange="updatePreview()">
        </div>
    `;
    
    certificationsList.appendChild(certificationItem);
    updatePreview();
}

function removeCertification(id) {
    const items = document.querySelectorAll('#certificationsList .form-item');
    items[id - 1].remove();
    updatePreview();
}

// Add Language Entry
function addLanguage() {
    languageCount++;
    const languagesList = document.getElementById('languagesList');
    
    const languageItem = document.createElement('div');
    languageItem.className = 'form-item';
    languageItem.innerHTML = `
        <h4>Language ${languageCount}
            <button type="button" class="remove-btn" onclick="removeLanguage(${languageCount})">Remove</button>
        </h4>
        <div class="form-row">
            <input type="text" id="langName_${languageCount}" placeholder="Language" onchange="updatePreview()">
            <select id="langLevel_${languageCount}" onchange="updatePreview()">
                <option value="">Proficiency Level</option>
                <option value="Native">Native</option>
                <option value="Fluent">Fluent</option>
                <option value="Proficient">Proficient</option>
                <option value="Intermediate">Intermediate</option>
                <option value="Basic">Basic</option>
            </select>
        </div>
    `;
    
    languagesList.appendChild(languageItem);
    updatePreview();
}

function removeLanguage(id) {
    const items = document.querySelectorAll('#languagesList .form-item');
    items[id - 1].remove();
    updatePreview();
}

// Add Volunteer Entry
function addVolunteer() {
    volunteerCount++;
    const volunteerList = document.getElementById('volunteerList');
    
    const volunteerItem = document.createElement('div');
    volunteerItem.className = 'form-item';
    volunteerItem.innerHTML = `
        <h4>Volunteer Experience ${volunteerCount}
            <button type="button" class="remove-btn" onclick="removeVolunteer(${volunteerCount})">Remove</button>
        </h4>
        <div class="form-row">
            <input type="text" id="volOrg_${volunteerCount}" placeholder="Organization" onchange="updatePreview()">
            <input type="text" id="volRole_${volunteerCount}" placeholder="Role" onchange="updatePreview()">
        </div>
        <div class="form-row">
            <input type="text" id="volDates_${volunteerCount}" placeholder="Dates" onchange="updatePreview()">
            <input type="text" id="volLocation_${volunteerCount}" placeholder="Location" onchange="updatePreview()">
        </div>
        <textarea id="volDescription_${volunteerCount}" placeholder="Description of volunteer work and impact..." rows="3" onchange="updatePreview()"></textarea>
    `;
    
    volunteerList.appendChild(volunteerItem);
    updatePreview();
}

function removeVolunteer(id) {
    const items = document.querySelectorAll('#volunteerList .form-item');
    items[id - 1].remove();
    updatePreview();
}

// Add Award Entry
function addAward() {
    awardCount++;
    const awardsList = document.getElementById('awardsList');
    
    const awardItem = document.createElement('div');
    awardItem.className = 'form-item';
    awardItem.innerHTML = `
        <h4>Award ${awardCount}
            <button type="button" class="remove-btn" onclick="removeAward(${awardCount})">Remove</button>
        </h4>
        <div class="form-row">
            <input type="text" id="awardName_${awardCount}" placeholder="Award Name" onchange="updatePreview()">
            <input type="text" id="awardIssuer_${awardCount}" placeholder="Issuing Organization" onchange="updatePreview()">
        </div>
        <div class="form-row">
            <input type="text" id="awardDate_${awardCount}" placeholder="Date Received" onchange="updatePreview()">
        </div>
        <textarea id="awardDescription_${awardCount}" placeholder="Description or significance of the award..." rows="2" onchange="updatePreview()"></textarea>
    `;
    
    awardsList.appendChild(awardItem);
    updatePreview();
}

function removeAward(id) {
    const items = document.querySelectorAll('#awardsList .form-item');
    items[id - 1].remove();
    updatePreview();
}

// Add Custom Link
function addCustomLink() {
    customLinksCount++;
    const linksList = document.getElementById('linksList');
    
    const linkItem = document.createElement('div');
    linkItem.className = 'form-item';
    linkItem.innerHTML = `
        <h4>Custom Link ${customLinksCount}
            <button type="button" class="remove-btn" onclick="removeCustomLink(${customLinksCount})">Remove</button>
        </h4>
        <div class="form-row">
            <input type="text" id="linkLabel_${customLinksCount}" placeholder="Link Label (e.g., Research Paper, Blog)" onchange="updatePreview()">
            <input type="url" id="linkUrl_${customLinksCount}" placeholder="URL" onchange="updatePreview()">
        </div>
    `;
    
    linksList.appendChild(linkItem);
    updatePreview();
}

function removeCustomLink(id) {
    const items = document.querySelectorAll('#linksList .form-item');
    items[id - 1].remove();
    updatePreview();
}

// Update preview
function updatePreview() {
    const preview = document.getElementById('resumePreview');
    
    // Update theme and layout classes
    let classes = `resume-preview ${currentTheme}-theme ${currentLayout}-layout`;
    if (layoutSettings.twoColumn && currentLayout === 'modern') classes += ' two-column';
    if (layoutSettings.skillsBars) classes += ' skills-with-bars';
    if (layoutSettings.compactMode) classes += ' compact-mode';
    if (!layoutSettings.showIcons) classes += ' hide-icons';
    
    preview.className = classes;
    
    // Generate resume content
    const resumeContent = generateResumeHTML();
    preview.innerHTML = resumeContent;
}

function generateResumeHTML() {
    const personalInfo = getPersonalInfo();
    const summary = document.getElementById('summary').value;
    
    let html = '';
    
    // Header
    html += generateHeader(personalInfo);
    
    if (layoutSettings.twoColumn && currentLayout === 'modern') {
        html += '<div class="two-column-content"><div class="left-column">';
        
        // Left column content
        if (sectionVisibility.summary && summary) html += generateSummarySection(summary);
        if (sectionVisibility.education) html += generateEducationSection();
        if (sectionVisibility.skills) html += generateSkillsSection();
        if (sectionVisibility.certifications) html += generateCertificationsSection();
        if (sectionVisibility.languages) html += generateLanguagesSection();
        
        html += '</div><div class="right-column">';
        
        // Right column content
        if (sectionVisibility.experience) html += generateExperienceSection();
        if (sectionVisibility.projects) html += generateProjectsSection();
        if (sectionVisibility.volunteer) html += generateVolunteerSection();
        if (sectionVisibility.awards) html += generateAwardsSection();
        if (sectionVisibility.links) html += generateLinksSection();
        
        html += '</div></div>';
    } else {
        // Single column layout
        if (sectionVisibility.summary && summary) html += generateSummarySection(summary);
        if (sectionVisibility.education) html += generateEducationSection();
        if (sectionVisibility.experience) html += generateExperienceSection();
        if (sectionVisibility.projects) html += generateProjectsSection();
        if (sectionVisibility.skills) html += generateSkillsSection();
        if (sectionVisibility.certifications) html += generateCertificationsSection();
        if (sectionVisibility.languages) html += generateLanguagesSection();
        if (sectionVisibility.volunteer) html += generateVolunteerSection();
        if (sectionVisibility.awards) html += generateAwardsSection();
        if (sectionVisibility.links) html += generateLinksSection();
    }
    
    return html;
}

function generateHeader(personalInfo) {
    const hasPhoto = sectionVisibility.photo && profilePhotoData;
    
    let html = `<div class="resume-header${hasPhoto ? ' with-photo' : ''}">`;
    
    if (hasPhoto) {
        html += `<img src="${profilePhotoData}" alt="Profile Photo" class="profile-photo">`;
        html += '<div class="header-content">';
    }
    
    html += `<h1>${personalInfo.fullName || 'Your Name'}</h1>`;
    
    // Contact info
    html += '<div class="contact-info">';
    if (personalInfo.email) html += `<span><i class="fas fa-envelope"></i> ${personalInfo.email}</span>`;
    if (personalInfo.phone) html += `<span><i class="fas fa-phone"></i> ${personalInfo.phone}</span>`;
    if (personalInfo.location) html += `<span><i class="fas fa-map-marker-alt"></i> ${personalInfo.location}</span>`;
    html += '</div>';
    
    // Links
    const links = [];
    if (personalInfo.linkedin) links.push(`<a href="${personalInfo.linkedin}"><i class="fab fa-linkedin"></i> LinkedIn</a>`);
    if (personalInfo.github) links.push(`<a href="${personalInfo.github}"><i class="fab fa-github"></i> GitHub</a>`);
    if (personalInfo.website) links.push(`<a href="${personalInfo.website}"><i class="fas fa-globe"></i> Portfolio</a>`);
    if (personalInfo.portfolio) links.push(`<a href="${personalInfo.portfolio}"><i class="fas fa-folder"></i> Portfolio</a>`);
    
    if (links.length > 0) {
        html += `<div class="links">${links.join('')}</div>`;
    }
    
    if (hasPhoto) {
        html += '</div>';
    }
    
    html += '</div>';
    return html;
}

function generateSummarySection(summary) {
    return `
        <div class="resume-section">
            <h2>Professional Summary</h2>
            <div class="description">${summary}</div>
        </div>
    `;
}

function generateEducationSection() {
    let html = '<div class="resume-section"><h2>Education</h2>';
    
    for (let i = 1; i <= educationCount; i++) {
        const institution = document.getElementById(`institution_${i}`);
        if (institution && institution.value) {
            const degree = document.getElementById(`degree_${i}`)?.value || '';
            const field = document.getElementById(`field_${i}`)?.value || '';
            const gradDate = document.getElementById(`gradDate_${i}`)?.value || '';
            const gpa = document.getElementById(`gpa_${i}`)?.value || '';
            const honors = document.getElementById(`honors_${i}`)?.value || '';
            
            html += `
                <div class="section-item">
                    <div class="item-header">
                        <h3>${degree}${field ? ` in ${field}` : ''}</h3>
                        <span class="date">${gradDate}</span>
                    </div>
                    <div class="company">${institution.value}</div>
                    ${gpa ? `<div class="description">GPA: ${gpa}</div>` : ''}
                    ${honors ? `<div class="description">${honors}</div>` : ''}
                </div>
            `;
        }
    }
    
    html += '</div>';
    return html;
}

function generateExperienceSection() {
    let html = '<div class="resume-section"><h2>Experience</h2>';
    
    for (let i = 1; i <= experienceCount; i++) {
        const company = document.getElementById(`company_${i}`);
        if (company && company.value) {
            const position = document.getElementById(`position_${i}`)?.value || '';
            const expLocation = document.getElementById(`expLocation_${i}`)?.value || '';
            const expDates = document.getElementById(`expDates_${i}`)?.value || '';
            const expDescription = document.getElementById(`expDescription_${i}`)?.value || '';
            
            html += `
                <div class="section-item">
                    <div class="item-header">
                        <h3>${position}</h3>
                        <span class="date">${expDates}</span>
                    </div>
                    <div class="company">${company.value}${expLocation ? `, ${expLocation}` : ''}</div>
                    ${expDescription ? `<div class="description">${formatDescription(expDescription)}</div>` : ''}
                </div>
            `;
        }
    }
    
    html += '</div>';
    return html;
}

function generateProjectsSection() {
    let html = '<div class="resume-section"><h2>Projects</h2>';
    
    for (let i = 1; i <= projectCount; i++) {
        const projectName = document.getElementById(`projectName_${i}`);
        if (projectName && projectName.value) {
            const projectDescription = document.getElementById(`projectDescription_${i}`)?.value || '';
            const projectTech = document.getElementById(`projectTech_${i}`)?.value || '';
            const projectDuration = document.getElementById(`projectDuration_${i}`)?.value || '';
            const projectGithub = document.getElementById(`projectGithub_${i}`)?.value || '';
            const projectDemo = document.getElementById(`projectDemo_${i}`)?.value || '';
            
            html += `
                <div class="section-item">
                    <div class="item-header">
                        <h3>${projectName.value}</h3>
                        ${projectDuration ? `<span class="date">${projectDuration}</span>` : ''}
                    </div>
                    ${projectTech ? `<div class="company"><strong>Technologies:</strong> ${projectTech}</div>` : ''}
                    ${projectDescription ? `<div class="description">${projectDescription}</div>` : ''}
                    ${(projectGithub || projectDemo) ? `
                        <div class="links">
                            ${projectGithub ? `<a href="${projectGithub}"><i class="fab fa-github"></i> Repository</a>` : ''}
                            ${projectDemo ? `<a href="${projectDemo}"><i class="fas fa-external-link-alt"></i> Demo</a>` : ''}
                        </div>
                    ` : ''}
                </div>
            `;
        }
    }
    
    html += '</div>';
    return html;
}

function generateSkillsSection() {
    const technicalSkills = document.getElementById('technicalSkills').value;
    const softwareSkills = document.getElementById('softwareSkills').value;
    const softSkills = document.getElementById('softSkills').value;
    
    if (!technicalSkills && !softwareSkills && !softSkills) return '';
    
    let html = '<div class="resume-section"><h2>Skills & Expertise</h2>';
    
    if (layoutSettings.skillsBars) {
        html += '<div class="skills-with-bars">';
        if (technicalSkills) html += generateSkillBars('Technical Skills', technicalSkills);
        if (softwareSkills) html += generateSkillBars('Software & Tools', softwareSkills);
        if (softSkills) html += generateSkillBars('Soft Skills', softSkills);
        html += '</div>';
    } else {
        if (technicalSkills) html += `<div class="section-item"><strong>Technical Skills:</strong> ${technicalSkills}</div>`;
        if (softwareSkills) html += `<div class="section-item"><strong>Software & Tools:</strong> ${softwareSkills}</div>`;
        if (softSkills) html += `<div class="section-item"><strong>Soft Skills:</strong> ${softSkills}</div>`;
    }
    
    html += '</div>';
    return html;
}

function generateSkillBars(category, skills) {
    const skillsArray = skills.split(',').map(s => s.trim());
    let html = `<div class="skill-category"><h4>${category}</h4>`;
    
    skillsArray.forEach(skill => {
        const level = Math.floor(Math.random() * 30) + 70; // Random level between 70-100%
        html += `
            <div class="skill-item">
                <div class="skill-name">
                    <span>${skill}</span>
                    <span>${level}%</span>
                </div>
                <div class="skill-bar">
                    <div class="skill-progress" style="width: ${level}%"></div>
                </div>
            </div>
        `;
    });
    
    html += '</div>';
    return html;
}

function generateCertificationsSection() {
    let html = '<div class="resume-section"><h2>Certifications</h2>';
    
    for (let i = 1; i <= certificationCount; i++) {
        const certName = document.getElementById(`certName_${i}`);
        if (certName && certName.value) {
            const certIssuer = document.getElementById(`certIssuer_${i}`)?.value || '';
            const certDate = document.getElementById(`certDate_${i}`)?.value || '';
            const certUrl = document.getElementById(`certUrl_${i}`)?.value || '';
            
            html += `
                <div class="section-item">
                    <div class="item-header">
                        <h3>${certName.value}</h3>
                        <span class="date">${certDate}</span>
                    </div>
                    <div class="company">${certIssuer}</div>
                    ${certUrl ? `<div class="links"><a href="${certUrl}"><i class="fas fa-external-link-alt"></i> Verify</a></div>` : ''}
                </div>
            `;
        }
    }
    
    html += '</div>';
    return html;
}

function generateLanguagesSection() {
    let html = '<div class="resume-section"><h2>Languages</h2>';
    
    for (let i = 1; i <= languageCount; i++) {
        const langName = document.getElementById(`langName_${i}`);
        if (langName && langName.value) {
            const langLevel = document.getElementById(`langLevel_${i}`)?.value || '';
            
            html += `
                <div class="section-item">
                    <strong>${langName.value}</strong>${langLevel ? ` - ${langLevel}` : ''}
                </div>
            `;
        }
    }
    
    html += '</div>';
    return html;
}

function generateVolunteerSection() {
    let html = '<div class="resume-section"><h2>Volunteer Experience</h2>';
    
    for (let i = 1; i <= volunteerCount; i++) {
        const volOrg = document.getElementById(`volOrg_${i}`);
        if (volOrg && volOrg.value) {
            const volRole = document.getElementById(`volRole_${i}`)?.value || '';
            const volDates = document.getElementById(`volDates_${i}`)?.value || '';
            const volLocation = document.getElementById(`volLocation_${i}`)?.value || '';
            const volDescription = document.getElementById(`volDescription_${i}`)?.value || '';
            
            html += `
                <div class="section-item">
                    <div class="item-header">
                        <h3>${volRole}</h3>
                        <span class="date">${volDates}</span>
                    </div>
                    <div class="company">${volOrg.value}${volLocation ? `, ${volLocation}` : ''}</div>
                    ${volDescription ? `<div class="description">${volDescription}</div>` : ''}
                </div>
            `;
        }
    }
    
    html += '</div>';
    return html;
}

function generateAwardsSection() {
    let html = '<div class="resume-section"><h2>Awards & Honors</h2>';
    
    for (let i = 1; i <= awardCount; i++) {
        const awardName = document.getElementById(`awardName_${i}`);
        if (awardName && awardName.value) {
            const awardIssuer = document.getElementById(`awardIssuer_${i}`)?.value || '';
            const awardDate = document.getElementById(`awardDate_${i}`)?.value || '';
            const awardDescription = document.getElementById(`awardDescription_${i}`)?.value || '';
            
            html += `
                <div class="section-item">
                    <div class="item-header">
                        <h3>${awardName.value}</h3>
                        <span class="date">${awardDate}</span>
                    </div>
                    <div class="company">${awardIssuer}</div>
                    ${awardDescription ? `<div class="description">${awardDescription}</div>` : ''}
                </div>
            `;
        }
    }
    
    html += '</div>';
    return html;
}

function generateLinksSection() {
    let html = '';
    const customLinks = [];
    
    for (let i = 1; i <= customLinksCount; i++) {
        const label = document.getElementById(`linkLabel_${i}`);
        const url = document.getElementById(`linkUrl_${i}`);
        if (label && label.value && url && url.value) {
            customLinks.push(`<a href="${url.value}"><i class="fas fa-link"></i> ${label.value}</a>`);
        }
    }
    
    if (customLinks.length > 0) {
        html = `
            <div class="resume-section">
                <h2>Additional Links</h2>
                <div class="links">${customLinks.join('')}</div>
            </div>
        `;
    }
    
    return html;
}

function getPersonalInfo() {
    return {
        fullName: document.getElementById('fullName').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        location: document.getElementById('location').value,
        linkedin: document.getElementById('linkedin').value,
        github: document.getElementById('github').value,
        website: document.getElementById('website').value,
        portfolio: document.getElementById('portfolio').value
    };
}

function formatDescription(text) {
    // Convert bullet points and line breaks to HTML
    return text
        .split('\n')
        .map(line => line.trim())
        .filter(line => line.length > 0)
        .map(line => {
            if (line.startsWith('•') || line.startsWith('-') || line.startsWith('*')) {
                return `<li>${line.substring(1).trim()}</li>`;
            }
            return `<p>${line}</p>`;
        })
        .join('')
        .replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');
}

// Export functions
function exportPDF() {
    const originalTransform = document.getElementById('resumePreview').style.transform;
    document.getElementById('resumePreview').style.transform = 'none';
    window.print();
    setTimeout(() => {
        document.getElementById('resumePreview').style.transform = originalTransform;
    }, 100);
}

function exportLaTeX() {
    const resumeData = collectResumeData();
    const latex = generateLaTeX(resumeData);
    downloadFile(latex, 'resume.tex', 'text/plain');
}

function exportHTML() {
    const previewContent = document.getElementById('resumePreview').outerHTML;
    const cssContent = generateStandaloneCSS();
    
    const html = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        ${cssContent}
        body { font-family: 'Inter', sans-serif; margin: 0; padding: 2rem; background: #f8fafc; }
        .resume-preview { margin: 0 auto; transform: none !important; }
    </style>
</head>
<body>
    ${previewContent}
</body>
</html>`;
    
    downloadFile(html, 'resume.html', 'text/html');
}

function generateStandaloneCSS() {
    // Extract relevant CSS for standalone HTML
    return `
        .resume-preview {
            background: white;
            color: #374151;
            border-radius: 0.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            font-family: 'Inter', sans-serif;
            line-height: 1.5;
            width: 8.5in;
            min-height: 11in;
            padding: 0.75in;
        }
        
        /* Theme variables */
        .modern-theme { --primary-color: #3b82f6; --accent-color: #06b6d4; }
        .classic-theme { --primary-color: #374151; --accent-color: #10b981; }
        .creative-theme { --primary-color: #7c3aed; --accent-color: #ec4899; }
        .minimal-theme { --primary-color: #475569; --accent-color: #06b6d4; }
        .tech-theme { --primary-color: #dc2626; --accent-color: #f59e0b; }
        
        .resume-header h1 { font-size: 2.5rem; font-weight: 700; color: var(--primary-color); margin-bottom: 0.5rem; }
        .contact-info { display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 0.5rem; }
        .contact-info span { font-size: 0.875rem; display: flex; align-items: center; gap: 0.25rem; }
        .links { display: flex; flex-wrap: wrap; gap: 1rem; }
        .links a { font-size: 0.875rem; color: var(--primary-color); text-decoration: none; }
        
        .resume-section { margin-bottom: 2rem; }
        .resume-section h2 { font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--accent-color); color: var(--primary-color); }
        
        .section-item { margin-bottom: 1.5rem; }
        .item-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.5rem; }
        .item-header h3 { font-size: 1.125rem; font-weight: 600; color: #1f2937; }
        .date { font-size: 0.875rem; color: #6b7280; font-weight: 500; }
        .company { font-style: italic; color: #4b5563; margin-bottom: 0.5rem; }
        .description { color: #374151; font-size: 0.875rem; line-height: 1.6; }
        .description ul { margin: 0.5rem 0; padding-left: 1.5rem; }
        .description li { margin-bottom: 0.25rem; }
        
        .profile-photo { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 4px solid var(--primary-color); }
        .resume-header.with-photo { display: grid; grid-template-columns: auto 1fr; gap: 2rem; align-items: center; }
        
        @media (max-width: 768px) {
            .resume-header.with-photo { grid-template-columns: 1fr; text-align: center; gap: 1rem; }
            .contact-info, .links { flex-direction: column; gap: 0.5rem; }
            .item-header { flex-direction: column; align-items: flex-start; }
        }
    `;
}

function collectResumeData() {
    const data = {
        personal: getPersonalInfo(),
        summary: document.getElementById('summary').value,
        education: [],
        experience: [],
        projects: [],
        skills: {
            technical: document.getElementById('technicalSkills').value,
            software: document.getElementById('softwareSkills').value,
            soft: document.getElementById('softSkills').value
        },
        certifications: [],
        languages: [],
        volunteer: [],
        awards: [],
        customLinks: []
    };
    
    // ... keep existing code (collect all data sections) the same ...
    
    return data;
}

function generateLaTeX(data) {
    return `\\documentclass[11pt,a4paper]{article}
\\usepackage[utf8]{inputenc}
\\usepackage[margin=0.75in]{geometry}
\\usepackage{enumitem}
\\usepackage{titlesec}
\\usepackage{hyperref}
\\usepackage{graphicx}

\\titleformat{\\section}{\\large\\bfseries}{}{0em}{}[\\titlerule]
\\titlespacing{\\section}{0pt}{10pt}{5pt}

\\begin{document}

\\begin{center}
{\\LARGE\\textbf{${data.personal.fullName}}}\\\\[5pt]
${data.personal.email} $\\bullet$ ${data.personal.phone} $\\bullet$ ${data.personal.location}\\\\
${data.personal.linkedin ? `\\href{${data.personal.linkedin}}{LinkedIn}` : ''} ${data.personal.github ? `$\\bullet$ \\href{${data.personal.github}}{GitHub}` : ''} ${data.personal.website ? `$\\bullet$ \\href{${data.personal.website}}{Portfolio}` : ''}
\\end{center}

${data.summary ? `\\section{Professional Summary}\n${data.summary}\n` : ''}

\\section{Education}
${data.education.map(edu => 
    `\\textbf{${edu.degree} in ${edu.field}} \\hfill ${edu.gradDate}\\\\
${edu.institution}${edu.gpa ? ` \\hfill GPA: ${edu.gpa}` : ''}\\\\
${edu.honors ? `${edu.honors}\\\\` : ''}[5pt]`
).join('\n')}

\\section{Experience}
${data.experience.map(exp =>
    `\\textbf{${exp.position}} \\hfill ${exp.dates}\\\\
\\textit{${exp.company}}${exp.location ? ` \\hfill ${exp.location}` : ''}\\\\
${exp.description}\\\\[5pt]`
).join('\n')}

\\section{Projects}
${data.projects.map(proj =>
    `\\textbf{${proj.name}}${proj.duration ? ` (${proj.duration})` : ''}\\\\
${proj.description}\\\\
${proj.technologies ? `\\textbf{Technologies:} ${proj.technologies}\\\\` : ''}
${proj.github ? `\\textbf{Repository:} \\href{${proj.github}}{${proj.github}}\\\\` : ''}
${proj.demo ? `\\textbf{Demo:} \\href{${proj.demo}}{${proj.demo}}\\\\` : ''}[5pt]`
).join('\n')}

\\section{Skills}
${data.skills.technical ? `\\textbf{Technical Skills:} ${data.skills.technical}\\\\` : ''}
${data.skills.software ? `\\textbf{Software \\& Tools:} ${data.skills.software}\\\\` : ''}
${data.skills.soft ? `\\textbf{Soft Skills:} ${data.skills.soft}\\\\` : ''}

${data.customLinks.length > 0 ? `\\section{Additional Links}\n${data.customLinks.map(link => `\\href{${link.url}}{${link.label}}`).join(' $\\bullet$ ')}` : ''}

\\end{document}`;
}

function downloadFile(content, filename, contentType) {
    const blob = new Blob([content], { type: contentType });
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = filename;
    a.click();
    window.URL.revokeObjectURL(url);
}

    </script>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <h1 class="title">Quick Resume Builder</h1>
                <p class="subtitle">Create professional resumes with customizable sections and themes</p>
                <p class="description">Choose from industry themes • Remove unwanted sections • Export to PDF, LaTeX & HTML</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <div class="container">
                <div class="layout">
                    <!-- Form Section -->
                    <div class="form-section">
                        <!-- Theme Selector -->
                        <div class="theme-selector">
                            <h3><i class="fas fa-palette"></i> Choose Theme & Layout</h3>
                            <div class="theme-grid">
                                <button class="theme-option active" data-theme="modern" data-layout="modern">
                                    <div class="theme-preview modern-preview">
                                        <div class="preview-layout modern-layout"></div>
                                    </div>
                                    <span>Modern Professional</span>
                                </button>
                                <button class="theme-option" data-theme="classic" data-layout="classic">
                                    <div class="theme-preview classic-preview">
                                        <div class="preview-layout classic-layout"></div>
                                    </div>
                                    <span>Classic Business</span>
                                </button>
                                <button class="theme-option" data-theme="creative" data-layout="creative">
                                    <div class="theme-preview creative-preview">
                                        <div class="preview-layout creative-layout"></div>
                                    </div>
                                    <span>Creative Design</span>
                                </button>
                                <button class="theme-option" data-theme="minimal" data-layout="minimal">
                                    <div class="theme-preview minimal-preview">
                                        <div class="preview-layout minimal-layout"></div>
                                    </div>
                                    <span>Minimal Clean</span>
                                </button>
                                <button class="theme-option" data-theme="tech" data-layout="tech">
                                    <div class="theme-preview tech-preview">
                                        <div class="preview-layout tech-layout"></div>
                                    </div>
                                    <span>Tech Industry</span>
                                </button>
                            </div>
                        </div>

                        <!-- Section Manager -->
                        <div class="section-manager">
                            <h3><i class="fas fa-cog"></i> Manage Resume Sections</h3>
                            <div class="section-toggles">
                                <label class="section-toggle">
                                    <input type="checkbox" id="togglePhoto" onchange="toggleSection('photo')" checked>
                                    <span>Profile Photo</span>
                                </label>
                                <label class="section-toggle">
                                    <input type="checkbox" id="toggleSummary" onchange="toggleSection('summary')" checked>
                                    <span>Professional Summary</span>
                                </label>
                                <label class="section-toggle">
                                    <input type="checkbox" id="toggleEducation" onchange="toggleSection('education')" checked>
                                    <span>Education</span>
                                </label>
                                <label class="section-toggle">
                                    <input type="checkbox" id="toggleExperience" onchange="toggleSection('experience')" checked>
                                    <span>Work Experience</span>
                                </label>
                                <label class="section-toggle">
                                    <input type="checkbox" id="toggleProjects" onchange="toggleSection('projects')" checked>
                                    <span>Projects</span>
                                </label>
                                <label class="section-toggle">
                                    <input type="checkbox" id="toggleSkills" onchange="toggleSection('skills')" checked>
                                    <span>Skills</span>
                                </label>
                                <label class="section-toggle">
                                    <input type="checkbox" id="toggleCertifications" onchange="toggleSection('certifications')">
                                    <span>Certifications</span>
                                </label>
                                <label class="section-toggle">
                                    <input type="checkbox" id="toggleLanguages" onchange="toggleSection('languages')">
                                    <span>Languages</span>
                                </label>
                                <label class="section-toggle">
                                    <input type="checkbox" id="toggleVolunteer" onchange="toggleSection('volunteer')">
                                    <span>Volunteer Experience</span>
                                </label>
                                <label class="section-toggle">
                                    <input type="checkbox" id="toggleAwards" onchange="toggleSection('awards')">
                                    <span>Awards & Honors</span>
                                </label>
                                <label class="section-toggle">
                                    <input type="checkbox" id="toggleLinks" onchange="toggleSection('links')" checked>
                                    <span>Additional Links</span>
                                </label>
                            </div>
                        </div>

                        <!-- Layout Options -->
                        <div class="layout-options">
                            <h3><i class="fas fa-th-large"></i> Layout Customization</h3>
                            <div class="layout-controls">
                                <div class="control-group">
                                    <label>
                                        <input type="checkbox" id="twoColumn" onchange="toggleTwoColumn()">
                                        Two-Column Layout
                                    </label>
                                </div>
                                <div class="control-group">
                                    <label>
                                        <input type="checkbox" id="skillsBars" onchange="toggleSkillsBars()">
                                        Skills Progress Bars
                                    </label>
                                </div>
                                <div class="control-group">
                                    <label>
                                        <input type="checkbox" id="compactMode" onchange="toggleCompactMode()">
                                        Compact Mode
                                    </label>
                                </div>
                                <div class="control-group">
                                    <label>
                                        <input type="checkbox" id="showIcons" onchange="toggleIcons()" checked>
                                        Show Section Icons
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Resume Form -->
                        <form id="resumeForm" class="resume-form">
                            <!-- Profile Photo Section -->
                            <div class="form-group photo-section" id="photoSection">
                                <h3><i class="fas fa-camera"></i> Profile Photo</h3>
                                <div class="photo-upload">
                                    <input type="file" id="profilePhoto" accept="image/*" onchange="handlePhotoUpload(event)">
                                    <label for="profilePhoto" class="upload-label">
                                        <i class="fas fa-upload"></i>
                                        Click to upload photo
                                    </label>
                                    <div id="photoPreview" class="photo-preview"></div>
                                </div>
                            </div>

                            <!-- Personal Info -->
                            <div class="form-group">
                                <h3><i class="fas fa-user"></i> Personal Information</h3>
                                <div class="form-row">
                                    <input type="text" id="fullName" placeholder="Full Name" required>
                                    <input type="email" id="email" placeholder="Email" required>
                                </div>
                                <div class="form-row">
                                    <input type="tel" id="phone" placeholder="Phone">
                                    <input type="text" id="location" placeholder="Location">
                                </div>
                                <div class="form-row">
                                    <input type="url" id="linkedin" placeholder="LinkedIn Profile URL">
                                    <input type="url" id="github" placeholder="GitHub Profile URL">
                                </div>
                                <div class="form-row">
                                    <input type="url" id="website" placeholder="Portfolio/Website URL">
                                    <input type="url" id="portfolio" placeholder="Additional Portfolio URL">
                                </div>
                            </div>

                            <!-- Summary -->
                            <div class="form-group" id="summarySection">
                                <h3><i class="fas fa-file-text"></i> Professional Summary</h3>
                                <textarea id="summary" placeholder="Brief overview of your background and career goals..." rows="4"></textarea>
                            </div>

                            <!-- Education -->
                            <div class="form-group" id="educationSection">
                                <h3><i class="fas fa-graduation-cap"></i> Education</h3>
                                <div id="educationList"></div>
                                <button type="button" class="add-btn" onclick="addEducation()">+ Add Education</button>
                            </div>

                            <!-- Experience -->
                            <div class="form-group" id="experienceSection">
                                <h3><i class="fas fa-briefcase"></i> Work Experience</h3>
                                <div id="experienceList"></div>
                                <button type="button" class="add-btn" onclick="addExperience()">+ Add Experience</button>
                            </div>

                            <!-- Projects -->
                            <div class="form-group" id="projectsSection">
                                <h3><i class="fas fa-project-diagram"></i> Projects</h3>
                                <div id="projectsList"></div>
                                <button type="button" class="add-btn" onclick="addProject()">+ Add Project</button>
                            </div>

                            <!-- Skills -->
                            <div class="form-group" id="skillsSection">
                                <h3><i class="fas fa-cogs"></i> Skills & Expertise</h3>
                                <input type="text" id="technicalSkills" placeholder="Technical Skills (e.g., JavaScript, Python, Design...)">
                                <input type="text" id="softwareSkills" placeholder="Software & Tools (e.g., Adobe Creative Suite, Git, VS Code...)">
                                <input type="text" id="softSkills" placeholder="Soft Skills (e.g., Communication, Leadership, Problem-solving...)">
                            </div>

                            <!-- Certifications -->
                            <div class="form-group" id="certificationsSection" style="display: none;">
                                <h3><i class="fas fa-certificate"></i> Certifications</h3>
                                <div id="certificationsList"></div>
                                <button type="button" class="add-btn" onclick="addCertification()">+ Add Certification</button>
                            </div>

                            <!-- Languages -->
                            <div class="form-group" id="languagesSection" style="display: none;">
                                <h3><i class="fas fa-language"></i> Languages</h3>
                                <div id="languagesList"></div>
                                <button type="button" class="add-btn" onclick="addLanguage()">+ Add Language</button>
                            </div>

                            <!-- Volunteer Experience -->
                            <div class="form-group" id="volunteerSection" style="display: none;">
                                <h3><i class="fas fa-hands-helping"></i> Volunteer Experience</h3>
                                <div id="volunteerList"></div>
                                <button type="button" class="add-btn" onclick="addVolunteer()">+ Add Volunteer Experience</button>
                            </div>

                            <!-- Awards -->
                            <div class="form-group" id="awardsSection" style="display: none;">
                                <h3><i class="fas fa-trophy"></i> Awards & Honors</h3>
                                <div id="awardsList"></div>
                                <button type="button" class="add-btn" onclick="addAward()">+ Add Award</button>
                            </div>

                            <!-- Additional Links -->
                            <div class="form-group" id="linksSection">
                                <h3><i class="fas fa-link"></i> Additional Links</h3>
                                <div id="linksList"></div>
                                <button type="button" class="add-btn" onclick="addCustomLink()">+ Add Custom Link</button>
                            </div>
                        </form>

                        <!-- Export Buttons -->
                        <div class="export-section">
                            <h3><i class="fas fa-download"></i> Export Resume</h3>
                            <div class="export-buttons">
                                <button class="export-btn pdf" onclick="exportPDF()">
                                    <i class="fas fa-file-pdf"></i> Export PDF
                                </button>
                                <button class="export-btn latex" onclick="exportLaTeX()">
                                    <i class="fas fa-file-code"></i> Export LaTeX
                                </button>
                                <button class="export-btn html" onclick="exportHTML()">
                                    <i class="fas fa-file-code"></i> Export HTML
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Preview Section -->
                    <div class="preview-section">
                        <div class="preview-header">
                            <h3>Live Preview</h3>
                            <div class="preview-controls">
                                <button class="zoom-btn" onclick="adjustZoom(-0.1)"><i class="fas fa-search-minus"></i></button>
                                <span id="zoomLevel">100%</span>
                                <button class="zoom-btn" onclick="adjustZoom(0.1)"><i class="fas fa-search-plus"></i></button>
                            </div>
                        </div>
                        <div class="preview-container" id="previewContainer">
                            <div id="resumePreview" class="resume-preview modern-theme modern-layout">
                                <!-- Resume content will be dynamically generated -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
</body>
</html>
